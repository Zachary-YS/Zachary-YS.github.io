# GitHub Pages 部署问题排查指南

## 🔍 检查步骤

### 1. 检查 GitHub Actions 构建状态

**访问 Actions 页面：**
https://github.com/Zachary-YS/Zachary-YS.github.io/actions

**检查要点：**
- ✅ 绿色勾号 = 构建成功
- ❌ 红色叉号 = 构建失败（点击查看错误信息）
- 🟡 黄色圆圈 = 正在构建中（等待 2-5 分钟）

**如果构建失败：**
- 点击失败的 workflow
- 查看错误日志
- 常见错误：
  - 依赖安装失败 → 检查 `package.json`
  - 构建错误 → 检查代码语法
  - 权限问题 → 检查 GitHub Pages 设置

---

### 2. 检查 GitHub Pages 设置

**访问设置页面：**
https://github.com/Zachary-YS/Zachary-YS.github.io/settings/pages

**必须配置：**
1. **Source（源）**：必须选择 **"GitHub Actions"**
   - ❌ 不要选择 "Deploy from a branch"
   - ✅ 必须选择 "GitHub Actions"

2. **如果显示 "Your site is ready to be published"**：
   - 说明还没有启用 GitHub Pages
   - 需要先推送一次代码触发构建

---

### 3. 检查是否已推送代码

**在终端运行：**
```bash
cd Zachary-YS.github.io
git status
```

**确认：**
- 显示 "Your branch is up to date with 'origin/main'"
- 没有未提交的更改

**如果还有未提交的更改：**
```bash
git add .
git commit -m "更新内容"
git push origin main
```

---

### 4. 手动触发部署

如果自动部署没有触发，可以手动触发：

1. 访问 Actions 页面：
   https://github.com/Zachary-YS/Zachary-YS.github.io/actions

2. 点击左侧的 "Deploy to GitHub Pages" workflow

3. 点击右侧的 "Run workflow" 按钮

4. 选择 "main" 分支，点击 "Run workflow"

---

### 5. 清除浏览器缓存

网站可能已经更新，但浏览器缓存了旧版本：

**方法 1：硬刷新**
- Windows/Linux: `Ctrl + Shift + R` 或 `Ctrl + F5`
- Mac: `Cmd + Shift + R`

**方法 2：清除缓存**
- Chrome: 设置 → 隐私和安全 → 清除浏览数据 → 选择"缓存的图片和文件"
- 或者使用无痕模式访问：`Ctrl + Shift + N` (Windows) 或 `Cmd + Shift + N` (Mac)

**方法 3：直接访问部署的 URL**
- 查看 Actions 中的部署 URL
- 通常会在 workflow 运行完成后显示

---

### 6. 检查部署时间

GitHub Pages 部署通常需要：
- **构建时间**：2-5 分钟
- **部署时间**：1-2 分钟
- **DNS 更新**：最多 10 分钟

**总共可能需要 5-15 分钟**才能看到更新。

---

## 🛠️ 常见问题解决

### 问题 1：Actions 显示失败

**解决方案：**
1. 点击失败的 workflow 查看错误
2. 检查代码是否有语法错误
3. 确保 `package.json` 中的依赖正确
4. 尝试在本地运行 `npm run build` 看是否有错误

---

### 问题 2：GitHub Pages 设置中没有 "GitHub Actions" 选项

**可能原因：**
- 仓库是私有的（需要升级到 GitHub Pro）
- 或者需要先运行一次 workflow

**解决方案：**
1. 确保仓库是公开的（Public）
2. 或者先手动运行一次 workflow

---

### 问题 3：网站显示 404 或空白页

**可能原因：**
- 构建失败
- 路径配置错误
- `vite.config.ts` 中的 `base` 配置错误

**检查：**
```bash
# 检查 vite.config.ts
cat vite.config.ts
# 应该看到：base: "/"
```

---

### 问题 4：修改后网站没有变化

**检查清单：**
- [ ] 代码是否已提交？`git status` 确认
- [ ] 代码是否已推送？`git log` 查看最新提交
- [ ] Actions 是否成功运行？
- [ ] 是否等待了足够的时间（5-15分钟）？
- [ ] 是否清除了浏览器缓存？

---

## 📋 快速检查清单

```
□ 1. 代码已提交并推送
□ 2. GitHub Actions 显示成功（绿色勾号）
□ 3. GitHub Pages 设置中 Source 选择 "GitHub Actions"
□ 4. 等待了至少 5 分钟
□ 5. 清除了浏览器缓存
□ 6. 使用无痕模式访问测试
```

---

## 🔗 重要链接

- **Actions 页面**：https://github.com/Zachary-YS/Zachary-YS.github.io/actions
- **Pages 设置**：https://github.com/Zachary-YS/Zachary-YS.github.io/settings/pages
- **网站地址**：https://zachary-ys.github.io/

---

## 💡 调试技巧

### 查看构建日志
1. 访问 Actions 页面
2. 点击最新的 workflow run
3. 点击 "build" 或 "deploy" job
4. 展开各个步骤查看详细日志

### 本地测试构建
```bash
cd Zachary-YS.github.io
npm install
npm run build
# 如果本地构建失败，GitHub Actions 也会失败
```

### 检查构建产物
构建成功后，会在 `dist` 文件夹生成静态文件。可以在 Actions 的 artifact 中下载查看。


